(function(e){e.fn.extend({smartpaginator:function(t){var n=e.extend({totalrecords:0,recordsperpage:0,length:10,next:"Next",prev:"Prev",first:"First",last:"Last",go:"Go",theme:"green",display:"double",initval:1,datacontainer:"",dataelement:"",onchange:null,controlsalways:!1},t);return this.each(function(){function m(t){o.find("span").remove();var r=(t+1)*n.recordsperpage;r>n.totalrecords&&(r=n.totalrecords),o.append(e("<span/>").append(e("<b/>").text(t*n.recordsperpage+1))).append(e("<span/>").text("-")).append(e("<span/>").append(e("<b/>").text(r))).append(e("<span/>").text("of")).append(e("<span/>").append(e("<b/>").text(n.totalrecords)))}function g(r){f.find("li").remove();if(n.totalrecords<=n.recordsperpage)return;for(var s=r;s<r+n.length;s++){if(s==i)break;f.append(e("<li/>").append(e("<a>").attr("id",s+1).addClass(n.theme).addClass("normal").attr("href","javascript:void(0)").text(s+1)).click(function(){t=r+e(this).closest("li").prevAll().length,y(t)}))}m(r),d.val(r+1),f.find("li a").addClass(n.theme).removeClass("active"),f.find("li:eq(0) a").addClass(n.theme).addClass("active");var o=f.find("li:eq(0) a").outerWidth()+parseInt(f.find("li:eq(0)").css("margin-left"))*2,u=o*f.find("li").length;f.css({width:u}),b(r)}function y(r){var o=r,l=n.length/2;n.length%2>0&&(l=(n.length+1)/2);var c=0;if(r>=0&&r<i){r>=l&&(i-r>l?c=r-(l-1):i>n.length&&(c=i-n.length)),g(c),m(t),f.find("li a").removeClass("active"),d.val(t+1),f.find('li a[id="'+(o+1)+'"]').addClass("active");var h=t*n.recordsperpage,p=h+n.recordsperpage;p>n.totalrecords&&(p=n.totalrecords%p),s&&n.onchange!=null&&n.onchange(t+1,h,p);if(u!=null&&u.length>0){a.css("display","none"),e(a[0]).find("th").length>0&&(e(a[0]).css("display",""),h++,p++);for(var v=h;v<p;v++)e(a[v]).css("display","")}b()}}function b(){i>n.length?(t>0?n.controlsalways?l.css("display","").removeClass("disabled"):l.css("display",""):n.controlsalways?l.css("display","").addClass("disabled"):l.css("display","none"),t>n.length/2-1?n.controlsalways?h.css("display","").removeClass("disabled"):h.css("display",""):n.controlsalways?h.css("display","").addClass("disabled"):h.css("display","none"),t==i-1?n.controlsalways?c.css("display","").addClass("disabled"):c.css("display","none"):n.controlsalways?c.css("display","").removeClass("disabled"):c.css("display",""),i>n.length&&t<i-n.length/2-1?n.controlsalways?p.css("display","").removeClass("disabled"):p.css("display",""):n.controlsalways?p.css("display","").addClass("disabled"):p.css("display","none")):n.controlsalways?(h.css("display","").addClass("disabled"),l.css("display","").addClass("disabled"),c.css("display","").addClass("disabled"),p.css("display","").addClass("disabled")):(h.css("display","none"),l.css("display","none"),c.css("display","none"),p.css("display","none"))}function w(e){var t=e.get(0).selectionStart,n=e.get(0).selectionEnd,r=document.selection;return r&&r.createRange().text.length!=0?!0:!r&&e.val().substring(t,n).length!=0?!0:!1}var t=0,r=0,i=parseInt(n.totalrecords/n.recordsperpage);n.totalrecords%n.recordsperpage>0&&i++;var s=!1,o=e(this).addClass("pager").addClass(n.theme);o.find("ul").remove(),o.find("div").remove(),o.find("span").remove();var u,a;n.datacontainer!=""&&(u=e("#"+n.datacontainer),a=e(""+n.dataelement+"",u));var f=e("<ul/>"),l=e("<div/>").text(n.prev).click(function(){if(e(this).hasClass("disabled"))return!1;t=parseInt(f.find("li a.active").text())-1,y(--t)}).addClass("btn"),c=e("<div/>").text(n.next).click(function(){if(e(this).hasClass("disabled"))return!1;t=parseInt(f.find("li a.active").text()),y(t)}).addClass("btn"),h=e("<div/>").text(n.first).click(function(){if(e(this).hasClass("disabled"))return!1;t=0,y(0)}).addClass("btn"),p=e("<div/>").text(n.last).click(function(){if(e(this).hasClass("disabled"))return!1;t=i-1,y(t)}).addClass("btn"),d=e("<input/>").attr("type","text").keydown(function(e){w(d)&&d.val("");if(e.which>=48&&e.which<58){var t=parseInt(d.val()+(e.which-48));t>0&&t<=i||e.preventDefault()}else e.which!=8&&e.which!=46&&e.preventDefault()}),v=e("<input/>").attr("type","button").attr("value",n.go).addClass("btn").click(function(){if(d.val()=="")return!1;t=parseInt(d.val())-1,y(t)});o.append(h).append(l).append(f).append(c).append(p).append(e("<div/>").addClass("short").append(d).append(v)),n.display=="single"&&(v.css("display","none"),d.css("display","none")),g(r),n.initval==0&&(n.initval=1),t=n.initval-1,y(t),s=!0})}})})(jQuery);