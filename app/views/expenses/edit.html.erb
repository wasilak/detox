<% title "Expenses" %>
<h3>Editing expense</h3>

<% if @expense.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@expense.errors.count, "error") %> prohibited this tag from being saved:</h2>

      <ul>
      <% @expense.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<div class="row">
	<div class="span6">
		<%= render 'form' %>
	</div>
</div>




<div class="row">
	<div class="span10">
			<table class="table table-striped table-hover table-condensed">
				<thead>
					<tr>
						<th>tag name</th>
						<th></th>
					</tr>
				</thead>
				<% @expenseTags.each do |tag| %>
				<tr>
					<%= form_tag delTag_url(@expense), :method => 'POST', :class => 'form-inline' do %>
					<%= hidden_field :tag, 'id', :value => tag.id %>
					<td>
						<%= tag.tag.name %>
					</td>
					<td>
						<%= submit_tag 'delete', :name => nil, :class => 'btn btn-link' %>
					</td>
					<% end %>
				</tr>
				<% end %>
				<tr>
					<%= form_tag addTag_url(@expense), :method => 'POST', :class => 'form-inline' do %>
					<td>
						<% options = options_for_select(
							[["select...",""]] +
						  	@tags.collect {
						    	|t| [t.name, t.id]
						  	}
						  	) %>
						<%= select_tag(:tag, options) %>
					</td>
					<td>
						<%= submit_tag 'add', :name => nil, :class => 'btn btn-link' %>
					</td>
					<% end %>
				</tr>
			</table>
	</div>
</div>
<p><%= link_to '<i class="icon-chevron-left"></i> expense details'.html_safe, @expense, :title => 'expense details' %></p>
